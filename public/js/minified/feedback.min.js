function init(){function e(){t=s.socket.sessionid,console.log("Connected "+t)}function n(e){console.log("incomingLine",e),d(e)}function o(e){console.log("Unable to connect to server",e)}function c(e){var n=e.charCode||e.keyCode;switch(n){case 37:case 38:case 39:case 40:return void r(e)}switch(String.fromCharCode(e.which)){case" ":a(e)}}function d(e){var n=$("<article>").addClass("record row lead").append($("<div>").addClass("column col-xs-3").append($("<p>").addClass("legend").html(e.legend)));for(folder in e.images){var o="/images/"+folder+"/"+e.images[folder];n.append($("<div>").addClass("column col-xs-3").append($("<img>").addClass("thumb").attr("src",o)))}n.appendTo("#recordedlines")}function r(e){e.preventDefault();var n=e.charCode||e.keyCode,o=$("#recordedlines .column.highlight").length>0?$("#recordedlines .column.highlight:first"):null;if(null===o)var c=0,d=0;else{var c=o.index(),d=o.parents(".record").index(),r=$("#recordedlines .record:first .column").length-1,a=$("#recordedlines .record").length-1;switch(n){case 38:d--;break;case 39:c++;break;case 40:d++;break;case 37:c--}c>r&&(c=0,d++),d>a&&(d=0),0>c&&(c=r,d--),0>d&&(d=a)}i(c,d)}function i(e,n){e++,n++,$(".highlight").removeClass("highlight"),$("#recordedlines .record:nth-child("+n+") .column:nth-child("+e+")").addClass("highlight")}function a(e){e.preventDefault();var n=e.charCode||e.keyCode;$("body").toggleClass("manify")}var l=document.domain,s=io.connect(l),t="";s.on("connect",e),s.on("incomingLine",n),s.on("error",o),$(document).on("keypress",c)}$(document).on("ready",init);