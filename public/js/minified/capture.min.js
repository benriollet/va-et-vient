function init(){function e(e){switch(console.log(String.fromCharCode(e.which)),String.fromCharCode(e.which)){case" ":e.preventDefault(),a()}}function t(){if(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,navigator.getUserMedia&&window.URL){var e=document.getElementById("my_camera");navigator.getUserMedia({audio:!1,video:{mandatory:{minWidth:o,minHeight:o}}},function(t){e.src=window.URL.createObjectURL(t)||t},function(e){console.log("The following error occured: "+e)})}else alert("getUserMedia not supported on your machine!")}function a(e){$("#capture .result").removeClass("show");var t=document.getElementById("my_camera"),a=document.createElement("canvas");a.width=n,a.height=o;var i=a.getContext("2d");i.drawImage(t,0,0,n,o);var r=a.toDataURL("image/jpeg",1);return $.ajax({type:"POST",url:"/newImage",data:{imgBase64:a.toDataURL("image/jpeg",1),path:$("#folder").val()}}).done(function(e){$("#capture .result").html('<img src="'+r+'">'),$("#capture .result").addClass("show")}),a.toDataURL("image/jpeg",1)}var o=1080,n=1920;t(),$(document).on("keypress",e),$("#Snapshot").click(function(e){a(e)})}$(document).on("ready",init);